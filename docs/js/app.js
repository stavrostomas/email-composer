(function(e){function t(t){for(var s,i,c=t[0],r=t[1],o=t[2],m=0,d=[];m<c.length;m++)i=c[m],n[i]&&d.push(n[i][0]),n[i]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);u&&u(t);while(d.length)d.shift()();return l.push.apply(l,o||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],s=!0,c=1;c<a.length;c++){var r=a[c];0!==n[r]&&(s=!1)}s&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={app:0},l=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/email-composer/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var u=r;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0710":function(e,t,a){"use strict";var s=a("f100"),n=a.n(s);n.a},"1a0e":function(e,t,a){"use strict";var s=a("f1e1"),n=a.n(s);n.a},"42d0":function(e,t,a){"use strict";var s=a("9dcc"),n=a.n(s);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d"),a("db4d");var s=a("2b0e"),n=a("ce5b"),l=a.n(n),i=(a("d1e7"),a("bf40"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app"}},[a("transition",{attrs:{name:"clicked-route",mode:"out-in"}},[a("router-view")],1)],1)}),c=[],r=(a("5c0b"),a("2877")),o={},u=Object(r["a"])(o,i,c,!1,null,null,null),m=u.exports,d=a("8c4f"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("email-form")],1)},f=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"fill-height":"",row:"","align-center":""}},[a("section",{staticClass:"form-container"},[a("header",{staticClass:"pa-4 mb-2"},[e._v("\n      Send E-mail\n    ")]),a("v-form",{ref:"form",staticClass:"pa-4",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"To",rules:e.emailRules,required:"",outline:""},model:{value:e.getEmailData.to,callback:function(t){e.$set(e.getEmailData,"to",t)},expression:"getEmailData.to"}}),a("v-text-field",{attrs:{label:"CC",rules:e.ccAndBccRules,outline:""},model:{value:e.getEmailData.cc,callback:function(t){e.$set(e.getEmailData,"cc",t)},expression:"getEmailData.cc"}}),a("v-text-field",{attrs:{label:"BCC",rules:e.ccAndBccRules,outline:""},model:{value:e.getEmailData.bcc,callback:function(t){e.$set(e.getEmailData,"bcc",t)},expression:"getEmailData.bcc"}}),a("v-text-field",{attrs:{label:"Subject",counter:100,rules:e.subjectRules,outline:"",required:""},model:{value:e.getEmailData.subject,callback:function(t){e.$set(e.getEmailData,"subject",t)},expression:"getEmailData.subject"}}),a("v-textarea",{attrs:{label:"Message",outline:"",required:""},model:{value:e.getEmailData.message,callback:function(t){e.$set(e.getEmailData,"message",t)},expression:"getEmailData.message"}}),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{"xs-6":""}},[a("attachments-button")],1),a("v-flex",{staticClass:"text-xs-right",attrs:{"xs-6":""}},[a("v-btn",{staticClass:"submit-btn ma-0",attrs:{round:"",flat:"",disabled:!e.valid},on:{click:e.validate}},[a("span",[a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("\n                arrow_forward\n              ")]),a("span",[e._v("\n                SEND\n              ")])],1)])],1)],1),a("attachments-previews",{staticClass:"mt-4"})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.modalIsVisible,expression:"modalIsVisible"}],staticClass:"modal"},[a("v-progress-circular",{staticClass:"preloader",attrs:{size:50,indeterminate:""}})],1)])},h=[],b=a("cebc"),g=a("2f62"),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"image-uploader-container"}},[a("v-btn",{staticClass:"ma-0",attrs:{fab:"",flat:"",outline:"",small:"",color:"#e0e0e0"},on:{click:function(t){return e.$refs.filesInput.click()}}},[a("v-icon",{attrs:{color:"#939598"}},[e._v("attach_file")])],1),a("input",{ref:"filesInput",staticStyle:{display:"none"},attrs:{multiple:"",accept:"image/jpg,image/png",id:"image-files",type:"file"},on:{change:function(t){return e.previewFiles()}}})],1)},E=[],D=(a("ac6a"),{computed:Object(b["a"])({},Object(g["c"])(["getEmailData"])),methods:{previewFiles:function(){var e=this.$refs.filesInput.files,t=this.getEmailData.attachments;function a(e){var a=new FileReader;a.addEventListener("load",function(){t.push(this.result)},!1),a.readAsDataURL(e)}e&&[].forEach.call(e,a)}}}),x=D,_=Object(r["a"])(x,w,E,!1,null,null,null),j=_.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.getEmailData.attachments.length>0,expression:"getEmailData.attachments.length > 0"}],ref:"preview",staticClass:"images-preview"},[a("h3",{directives:[{name:"show",rawName:"v-show",value:e.headerVisible,expression:"headerVisible"}],staticClass:"mx-0"},[e._v("Attached Files")]),e._l(e.getEmailData.attachments,function(t,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableDelete,expression:"!disableDelete"}],key:t.id,staticClass:"preview",style:{backgroundImage:"url("+t+")"},on:{click:function(t){return e.deleteAttachment(s)}}})}),e._l(e.getEmailData.attachments,function(t){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.disableDelete,expression:"disableDelete"}],key:t.id,staticClass:"preview delete-disabled",style:{backgroundImage:"url("+t+")"}})})],2)},C=[],O={props:{headerVisible:{type:Boolean,default:!0},disableDelete:{type:Boolean,default:!1}},computed:Object(b["a"])({},Object(g["c"])(["getEmailData"])),methods:Object(b["a"])({},Object(g["b"])(["deleteAttachment"]))},k=O,$=(a("42d0"),Object(r["a"])(k,y,C,!1,null,"560f56ce",null)),A=$.exports,S={components:{attachmentsButton:j,attachmentsPreviews:A},data:function(){return{modalIsVisible:!1,valid:!1,subjectRules:[function(e){return!!e||"Subject is required"},function(e){return e&&e.length<=100||"Subject must be less than 100 characters"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^[\W]*([\w+\-.%]+@[\w\-.]+\.[A-Za-z]{2,4}[\W]*,{1}[\W]*)*([\w+\-.%]+@[\w\-.]+\.[A-Za-z]{2,4})[\W]*$/.test(e)||"Please enter a valid email, i.e email1@example.com,email2@example.com"}],ccAndBccRules:[function(e){return 0==e.length||(/^[\W]*([\w+\-.%]+@[\w\-.]+\.[A-Za-z]{2,4}[\W]*,{1}[\W]*)*([\w+\-.%]+@[\w\-.]+\.[A-Za-z]{2,4})[\W]*$/.test(e)||"Please enter a valid email, i.e email1@example.com,email2@example.com")}]}},computed:Object(b["a"])({},Object(g["c"])(["getEmailData"])),methods:{validate:function(){this.$refs.form.validate()&&this.submit()},submit:function(){var e=this;this.modalIsVisible=!0,setTimeout(function(){e.$router.push({path:"success"})},2e3)}}},N=S,P=(a("1a0e"),Object(r["a"])(N,p,h,!1,null,"1856405a",null)),I=P.exports,R={components:{EmailForm:I}},W=R,B=Object(r["a"])(W,v,f,!1,null,null,null),V=B.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("email-summary")],1)},z=[],F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"fill-height":"",row:"","align-center":""}},[e.getEmailData.to.length>0&&e.getEmailData.subject.length>0?a("section",{staticClass:"email-summary pa-4"},[a("header",{staticClass:"text-xs-center pb-4 mb-4"},[a("v-icon",{staticClass:"ma-2 pa-3",attrs:{dark:""}},[e._v("\n        done\n      ")]),a("p",{staticClass:"title mt-2"},[e._v("Your email has been sent")])],1),a("body",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.getEmailData.subject.length>0,expression:"getEmailData.subject.length > 0"}],staticClass:"title font-weight-bold mb-2"},[e._v("\n        "+e._s(e.getEmailData.subject)+"\n      ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.getEmailData.to.length>0,expression:"getEmailData.to.length > 0"}],staticClass:"recepients"},[a("span",{staticClass:"greyed-out body-1"},[e._v("to")]),a("span",[e._v(" "+e._s(e.getEmailData.to))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.getEmailData.cc.length>0,expression:"getEmailData.cc.length > 0"}],staticClass:"recepients"},[a("span",{staticClass:"greyed-out body-1"},[e._v("cc")]),a("span",[e._v(" "+e._s(e.getEmailData.cc))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.getEmailData.bcc.length>0,expression:"getEmailData.bcc.length > 0"}],staticClass:"recepients"},[a("span",{staticClass:"greyed-out body-1"},[e._v("bcc")]),a("span",[e._v(" "+e._s(e.getEmailData.bcc))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.getEmailData.message.length>0,expression:"getEmailData.message.length > 0"}],staticClass:"email-message my-2"},[e._v("\n        "+e._s(e.getEmailData.message)+"\n      ")]),a("attachments-previews",{staticClass:"mt-3",attrs:{"disable-delete":!0,"header-visible":!1}})],1)]):a("section",{staticClass:"error-message text-xs-center pa-4"},[a("header",{staticClass:"pb-3"},[a("v-icon",{staticClass:"ma-2"},[e._v("error")])],1),a("body",{staticClass:"pt-4"},[a("p",{staticClass:"headline"},[e._v("\n        You seem to be lost, click\n        "),a("router-link",{attrs:{tag:"a",to:"/"}},[e._v("here")]),e._v("\n        to go back to the homepage\n      ")],1)])])])},M=[],T={components:{AttachmentsPreviews:A},computed:Object(b["a"])({},Object(g["c"])(["getEmailData"]))},Z=T,J=(a("0710"),Object(r["a"])(Z,F,M,!1,null,"3d89585e",null)),L=J.exports,Y={components:{emailSummary:L}},U=Y,G=Object(r["a"])(U,q,z,!1,null,null,null),H=G.exports;s["default"].use(d["a"]);var K=new d["a"]({base:"email-composer",routes:[{path:"/",name:"home",component:V},{path:"/success",name:"success",component:H}]});s["default"].use(g["a"]);var Q=new g["a"].Store({state:{emailData:{to:"",cc:"",bcc:"",subject:"",message:"",attachments:[]}},getters:{getEmailData:function(e){return e.emailData}},mutations:{deleteAttachment:function(e,t){e.emailData.attachments.splice(t,1)}},actions:{deleteAttachment:function(e,t){e.commit("deleteAttachment",t)}}});s["default"].config.productionTip=!1,s["default"].use(l.a),new s["default"]({router:K,store:Q,render:function(e){return e(m)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var s=a("5e27"),n=a.n(s);n.a},"5e27":function(e,t,a){},"9dcc":function(e,t,a){},f100:function(e,t,a){},f1e1:function(e,t,a){}});
//# sourceMappingURL=app.js.map